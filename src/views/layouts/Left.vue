<script setup lang="ts">
import { ref } from "vue";
import NodeTree from "../../components/NodeTree.vue";
import ModelList from "../../components/ModelList.vue";
import LightList from "../../components/LightList.vue";
import MaterialList from "../../components/MaterialList.vue";

const avtiveTab = ref(0);
const toggleLeft = ref(true);

const handleToggleLeft = () => {
  toggleLeft.value = !toggleLeft.value;
};
</script>

<template>
  <div class="left" :style="{ width: toggleLeft ? '300px' : '0px' }">
    <el-tabs v-model="avtiveTab" tab-position="left" style="height: 100%">
      <el-tab-pane :name="0" style="height: 100%">
        <template #label>
          <el-space :size="2">
            <svg
              viewBox="0 0 1024 1024"
              width="18"
              height="18"
              :fill="avtiveTab === 0 ? '#000000' : '#3f3f3f'"
            >
              <path
                d="M298.666667 768h298.666666v-128a85.333333 85.333333 0 0 1 85.333334-85.333333h128V256a85.333333 85.333333 0 0 1-85.333334-85.333333h-298.666666v128a85.333333 85.333333 0 0 1-85.333334 85.333333H85.333333a85.333333 85.333333 0 0 1-85.333333-85.333333V128a85.333333 85.333333 0 0 1 85.333333-85.333333h256a85.333333 85.333333 0 0 1 85.333334 85.333333h310.101333A85.333333 85.333333 0 1 1 853.333333 244.565333V554.666667h85.333334a85.333333 85.333333 0 0 1 85.333333 85.333333v170.666667a85.333333 85.333333 0 0 1-85.333333 85.333333h-256a85.333333 85.333333 0 0 1-85.333334-85.333333H287.232A85.333333 85.333333 0 1 1 170.666667 694.101333V469.333333H106.666667a21.333333 21.333333 0 1 1 0-42.666666h213.333333a21.333333 21.333333 0 1 1 0 42.666666H213.333333v213.333334a85.333333 85.333333 0 0 1 85.333334 85.333333zM85.333333 85.333333a42.666667 42.666667 0 0 0-42.666666 42.666667v170.666667a42.666667 42.666667 0 0 0 42.666666 42.666666h256a42.666667 42.666667 0 0 0 42.666667-42.666666V128a42.666667 42.666667 0 0 0-42.666667-42.666667H85.333333z m597.333334 512a42.666667 42.666667 0 0 0-42.666667 42.666667v170.666667a42.666667 42.666667 0 0 0 42.666667 42.666666h256a42.666667 42.666667 0 0 0 42.666666-42.666666v-170.666667a42.666667 42.666667 0 0 0-42.666666-42.666667h-256z m21.333333 341.333334h213.333333a21.333333 21.333333 0 1 1 0 42.666666h-213.333333a21.333333 21.333333 0 1 1 0-42.666666zM810.666667 213.333333a42.666667 42.666667 0 1 0 0-85.333333 42.666667 42.666667 0 0 0 0 85.333333zM213.333333 810.666667a42.666667 42.666667 0 1 0 0-85.333334 42.666667 42.666667 0 0 0 0 85.333334z"
              ></path>
            </svg>
            <span
              :class="[
                'tab-label',
                avtiveTab === 0
                  ? 'light-active-text-color'
                  : 'light-text-color',
              ]"
            >
              节点
            </span>
          </el-space>
        </template>
        <NodeTree />
      </el-tab-pane>
      <el-tab-pane :name="1" style="height: 100%">
        <template #label>
          <el-space :size="2">
            <svg
              viewBox="0 0 1024 1024"
              width="20"
              height="20"
              :fill="avtiveTab === 1 ? '#000000' : '#3f3f3f'"
            >
              <path
                d="M833.536 307.2a22.1184 22.1184 0 0 0-13.4144-19.5584L475.4432 114.9952a19.7632 19.7632 0 0 0-17.6128 0L113.3568 287.3344C100.5568 295.7312 102.4 314.368 102.4 316.3136V684.032a19.8656 19.8656 0 0 0 9.5232 16.7936s337.1008 203.6736 342.9376 206.2336a25.088 25.088 0 0 0 24.7808 1.4336l112.64-64.9216c9.6256-5.5296 10.24-14.1312 9.1136-28.7744s-14.0288-22.6304-23.4496-17.2032-83.6608 50.0736-83.6608 50.0736V512l296.96-173.056 30.72-18.944A24.576 24.576 0 0 0 833.536 307.2zM440.32 843.5712L153.6 668.8768V347.4432L440.32 512v331.4688z m26.2144-385.2288L194.56 303.9232l272.4864-136.192 272.384 136.192z m448.1024 271.5648l-153.088 92.16a15.6672 15.6672 0 0 1-17.6128-0.7168c-0.9216 0-152.4736-91.136-152.4736-91.136a14.6432 14.6432 0 0 1-7.168-12.5952V552.96a20.48 20.48 0 0 1 13.6192-18.8416l148.48-81.92a15.2576 15.2576 0 0 1 13.0048 0l148.7872 81.92h-1.2288a3.4816 3.4816 0 0 1 1.4336 0l3.8912 1.9456a14.6432 14.6432 0 0 1 9.3184 12.6976V716.8a15.1552 15.1552 0 0 1-6.9632 12.6976zM641.6384 549.9904l110.4896 62.0544 112.0256-62.0544-112.0256-61.44zM774.144 774.656l112.64-68.096V583.68l-112.64 64z m-40.0384-1.9456V648.6016l-110.7968-62.6688v120.0128l110.7968 66.7648z m0 0"
              ></path>
            </svg>
            <span
              :class="[
                'tab-label',
                avtiveTab === 1
                  ? 'light-active-text-color'
                  : 'light-text-color',
              ]"
            >
              模型
            </span>
          </el-space>
        </template>
        <ModelList />
      </el-tab-pane>
      <el-tab-pane :name="2" style="height: 100%">
        <template #label>
          <el-space :size="2">
            <svg
              viewBox="0 0 1024 1024"
              width="22"
              height="22"
              :fill="avtiveTab === 2 ? '#000000' : '#3f3f3f'"
            >
              <path
                d="M512 99.555556a21.333333 21.333333 0 0 1 21.333333 21.333333v78.933333C696.206222 210.801778 824.888889 346.368 824.888889 512c0 5.489778-0.142222 10.979556-0.426667 16.426667A42.666667 42.666667 0 0 1 781.852444 568.888889H654.222222l-0.056889 3.982222C652.060444 649.571556 589.226667 711.111111 512 711.111111c-78.549333 0-142.222222-63.672889-142.222222-142.208h-127.630222a42.666667 42.666667 0 0 1-42.609778-40.476444c-0.284444-5.447111-0.426667-10.936889-0.426667-16.426667 0-165.632 128.711111-301.212444 291.555556-312.177778V120.888889A21.333333 21.333333 0 0 1 512 99.555556zM242.673778 642.858667a21.333333 21.333333 0 1 1 21.333333 36.949333l-24.632889 14.222222a21.333333 21.333333 0 0 1-21.333333-36.949333z m509.496889 7.808a21.333333 21.333333 0 0 1 29.155555-7.808l24.632889 14.222222a21.333333 21.333333 0 0 1-21.333333 36.949333l-24.632889-14.222222a21.333333 21.333333 0 0 1-7.822222-29.141333zM412.444444 568.888889l0.056889 3.413333A99.555556 99.555556 0 0 0 611.555556 568.917333L412.444444 568.888889z m99.555556-327.111111c-149.233778 0-270.222222 120.988444-270.222222 270.222222 0 4.764444 0.128 9.514667 0.369778 14.222222h539.704888c0.128-2.360889 0.213333-4.721778 0.284445-7.082666L782.222222 512c0-149.233778-120.988444-270.222222-270.222222-270.222222z m-106.311111 85.219555l14.193778 24.661334a185.856 185.856 0 0 0-68.380445 68.48l-24.661333-14.151111a214.300444 214.300444 0 0 1 78.848-78.990223zM512 789.333333a21.333333 21.333333 0 0 0-21.333333 21.333334v28.444444a21.333333 21.333333 0 0 0 42.666666 0v-28.444444a21.333333 21.333333 0 0 0-21.333333-21.333334z m-138.666667-37.162666a21.333333 21.333333 0 0 0-29.141333 7.822222l-14.222222 24.632889a21.333333 21.333333 0 0 0 36.949333 21.333333l14.222222-24.632889a21.333333 21.333333 0 0 0-7.808-29.155555z m277.333334 0a21.333333 21.333333 0 0 1 29.141333 7.822222l14.222222 24.632889a21.333333 21.333333 0 0 1-36.949333 21.333333l-14.222222-24.632889a21.333333 21.333333 0 0 1 7.808-29.155555z"
              ></path>
            </svg>
            <span
              :class="[
                'tab-label',
                avtiveTab === 2
                  ? 'light-active-text-color'
                  : 'light-text-color',
              ]"
            >
              灯光
            </span>
          </el-space>
        </template>
        <LightList />
      </el-tab-pane>
      <el-tab-pane :name="3" style="height: 100%">
        <template #label>
          <el-space :size="2">
            <svg
              viewBox="0 0 1024 1024"
              width="20"
              height="20"
              :fill="avtiveTab === 3 ? '#000000' : '#3f3f3f'"
            >
              <path
                d="M490.666667 42.666667L85.333333 277.333333v469.333334l405.333334 234.666666 405.333333-234.666666v-469.333334zM469.333333 625.92l-85.333333-49.493333v98.133333L469.333333 725.333333v97.706667L384 772.266667v98.133333l-85.333333-49.493333V725.333333l-85.333334-51.626666v97.706666l-85.333333-49.493333v-97.706667l85.333333 49.493334v-98.133334l-85.333333-49.493333V426.666667l85.333333 51.2V380.16l85.333334 49.493333v98.133334l85.333333 49.066666v-98.133333l85.333333 49.493333zM145.92 291.413333l344.746667-199.253333 344.746666 199.253333-344.746666 199.253334zM853.333333 721.92l-341.333333 197.546667v-391.68l341.333333-197.12z"
              ></path>
              <path
                d="M298.666667 527.36L213.333333 477.866667v97.706666l85.333334 49.493334v-97.706667zM298.666667 723.2l85.333333 49.066667v-97.706667l-85.333333-49.493333v98.133333z"
              ></path>
            </svg>
            <span
              :class="[
                'tab-label',
                avtiveTab === 3
                  ? 'light-active-text-color'
                  : 'light-text-color',
              ]"
            >
              材质
            </span>
          </el-space>
        </template>
        <MaterialList />
      </el-tab-pane>
    </el-tabs>
    <div class="toggle" @click="handleToggleLeft()">
      <el-icon :size="18">
        <ArrowLeftBold v-if="toggleLeft" />
        <ArrowRightBold v-else />
      </el-icon>
    </div>
  </div>
</template>

<style lang="less" scoped>

.left {
  position: relative;
  width: 300px;
  padding: 10px 0;
  background-color: #ffffff;
  transition: all 0.3s;
  z-index: 1;

  .tab-label {
    font-size: 12px;
  }

  .toggle {
    position: absolute;
    top: 50%;
    left: 100%;
    transform: translateY(-50%);
    cursor: pointer;
    font-size: 50px;

    :deep(.el-icon) {
      transition: all 0.3s ease;
    }

    &:hover {
      :deep(.el-icon) {
        animation: swing 1s infinite;
      }
    }
  }
}

@keyframes swing {
    0%,
    100% {
        margin-left: 0px;
    }
    50% {
        margin-left: 6px;
    }
}
</style>
